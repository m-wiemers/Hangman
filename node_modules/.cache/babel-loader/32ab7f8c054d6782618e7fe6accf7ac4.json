{"ast":null,"code":"import _toConsumableArray from\"/home/mwiemers/dev/Hangman/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/mwiemers/dev/Hangman/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/mwiemers/dev/Hangman/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import'./styles.css';import styled from'styled-components';import{useCallback,useEffect,useState}from'react';import Hangman from'./components/HangMan';import Key from'./components/Key';import WordLine from'./components/WordLine';import KeyBoardKeys from'./helpers/keyboardkeys';import ValidateSpecialLetters from'./helpers/validespecialletters';import getRandomWord from'./helpers/getRandomWord';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var KeyboardLine=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));var Message=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  display: flex;\\n  flex-direction: column;\\n  background-color: gray;\\n  height: 100vh;\\n  width: 90%;\\n  font-size: 40px;\\n  font-weight: bold;\\n  align-items: center;\\n  justify-content: center;\\n\"])));var ResetButton=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  border: none;\\n  background-color: black;\\n  color: white;\\n  font-size: 1.5rem;\\n  border-radius: 10px;\\n  padding: 0.5rem 1rem;\\n\"])));export default function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),trys=_useState4[0],setTrys=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),finalWord=_useState6[0],setFinalWord=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),gameOver=_useState10[0],setGameOver=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),word=_useState12[0],setWord=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),wordAsArray=_useState14[0],setWordAsArray=_useState14[1];var words=function words(){var newWord=getRandomWord().toUpperCase();setWord(newWord);var newArray=Object.assign([],word);setWordAsArray(newArray);};useEffect(function(){words();},[word]);var handleKeyClick=function handleKeyClick(key){console.log(word);if(!(word!==null&&word!==void 0&&word.includes(key))){setTrys(trys-1);}setValue(key);};var handleKeyDown=useCallback(function(event){var key=event.key;if(finalWord.includes(key.toUpperCase())){return;}if(!(word!==null&&word!==void 0&&word.includes(key.toUpperCase()))){setTrys(trys-1);}if(key.match('[A-Za-z]')&&event.code.includes('Key')||ValidateSpecialLetters(key)){setValue(key.toUpperCase());}else{setValue('');}},[trys,finalWord,word]);var reset=function reset(){setTrys(10);words();setMessage('');setFinalWord([]);setValue('');setGameOver(false);};useEffect(function(){if(wordAsArray.length===0){return;}if(wordAsArray.every(function(l){return finalWord.includes(l);})){setMessage('Du hast gewonnen!');}},[finalWord,wordAsArray]);useEffect(function(){if(trys===0){setGameOver(true);setMessage('Du hast verloren');}},[trys]);useEffect(function(){setFinalWord(function(oldArr){return[value].concat(_toConsumableArray(oldArr));});},[value]);useEffect(function(){if(window){window.addEventListener('keydown',handleKeyDown);}return function(){window.removeEventListener('keydown',handleKeyDown);};},[handleKeyDown]);var KeyBoardLine=function KeyBoardLine(number){return KeyBoardKeys.map(function(value){return number===value.line&&/*#__PURE__*/_jsx(Key,{disabled:finalWord.includes(value.value),onClick:function onClick(){return handleKeyClick(value.value);},value:value.value});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[message&&/*#__PURE__*/_jsxs(Message,{children:[message,/*#__PURE__*/_jsx(ResetButton,{onClick:reset,children:\"Noch mal\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Hangman\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:'min-content'},children:/*#__PURE__*/_jsx(Hangman,{visibleIndex:trys,dead:gameOver})}),/*#__PURE__*/_jsx(KeyboardLine,{children:KeyBoardLine(1)}),/*#__PURE__*/_jsx(KeyboardLine,{children:KeyBoardLine(2)}),/*#__PURE__*/_jsx(KeyboardLine,{children:KeyBoardLine(3)}),/*#__PURE__*/_jsx(WordLine,{winWord:word?word:'Kompromiss',finalWord:finalWord}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Du hast noch \",trys,\" Versuche\"]})]});}","map":{"version":3,"names":["styled","useCallback","useEffect","useState","Hangman","Key","WordLine","KeyBoardKeys","ValidateSpecialLetters","getRandomWord","KeyboardLine","div","Message","ResetButton","button","App","value","setValue","trys","setTrys","finalWord","setFinalWord","message","setMessage","gameOver","setGameOver","word","setWord","wordAsArray","setWordAsArray","words","newWord","toUpperCase","newArray","Object","assign","handleKeyClick","key","console","log","includes","handleKeyDown","event","match","code","reset","length","every","l","oldArr","window","addEventListener","removeEventListener","KeyBoardLine","number","map","line","height"],"sources":["/home/mwiemers/dev/Hangman/src/App.tsx"],"sourcesContent":["import './styles.css';\nimport styled from 'styled-components';\nimport { useCallback, useEffect, useState } from 'react';\nimport Hangman from './components/HangMan';\nimport Key from './components/Key';\nimport WordLine from './components/WordLine';\nimport KeyBoardKeys from './helpers/keyboardkeys';\nimport ValidateSpecialLetters from './helpers/validespecialletters';\nimport getRandomWord from './helpers/getRandomWord';\n\nconst KeyboardLine = styled.div``;\n\nconst Message = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  background-color: gray;\n  height: 100vh;\n  width: 90%;\n  font-size: 40px;\n  font-weight: bold;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ResetButton = styled.button`\n  border: none;\n  background-color: black;\n  color: white;\n  font-size: 1.5rem;\n  border-radius: 10px;\n  padding: 0.5rem 1rem;\n`;\n\nexport default function App() {\n  const [value, setValue] = useState<string>('');\n  const [trys, setTrys] = useState<number>(10);\n  const [finalWord, setFinalWord] = useState<string[]>([]);\n  const [message, setMessage] = useState<string>('');\n  const [gameOver, setGameOver] = useState<boolean>(false);\n  const [word, setWord] = useState<string>();\n  const [wordAsArray, setWordAsArray] = useState<string[]>([]);\n\n  const words = () => {\n    const newWord = getRandomWord().toUpperCase();\n    setWord(newWord);\n\n    const newArray = Object.assign([], word);\n    setWordAsArray(newArray);\n  };\n\n  useEffect(() => {\n    words();\n  }, [word]);\n\n  const handleKeyClick = (key: string) => {\n    console.log(word);\n    if (!word?.includes(key)) {\n      setTrys(trys - 1);\n    }\n    setValue(key);\n  };\n\n  const handleKeyDown = useCallback(\n    (event) => {\n      const key = event.key;\n\n      if (finalWord.includes(key.toUpperCase())) {\n        return;\n      }\n      if (!word?.includes(key.toUpperCase())) {\n        setTrys(trys - 1);\n      }\n      if (\n        (key.match('[A-Za-z]') && event.code.includes('Key')) ||\n        ValidateSpecialLetters(key)\n      ) {\n        setValue(key.toUpperCase());\n      } else {\n        setValue('');\n      }\n    },\n    [trys, finalWord, word]\n  );\n\n  const reset = () => {\n    setTrys(10);\n    words();\n    setMessage('');\n    setFinalWord([]);\n    setValue('');\n    setGameOver(false);\n  };\n\n  useEffect(() => {\n    if (wordAsArray.length === 0) {\n      return;\n    }\n    if (wordAsArray.every((l) => finalWord.includes(l))) {\n      setMessage('Du hast gewonnen!');\n    }\n  }, [finalWord, wordAsArray]);\n\n  useEffect(() => {\n    if (trys === 0) {\n      setGameOver(true);\n      setMessage('Du hast verloren');\n    }\n  }, [trys]);\n\n  useEffect(() => {\n    setFinalWord((oldArr) => [value, ...oldArr]);\n  }, [value]);\n\n  useEffect(() => {\n    if (window) {\n      window.addEventListener('keydown', handleKeyDown);\n    }\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  const KeyBoardLine = (number: number) =>\n    KeyBoardKeys.map(\n      (value) =>\n        number === value.line && (\n          <Key\n            disabled={finalWord.includes(value.value)}\n            onClick={() => handleKeyClick(value.value)}\n            value={value.value}\n          />\n        )\n    );\n\n  return (\n    <div className=\"App\">\n      {message && (\n        <Message>\n          {message}\n          <ResetButton onClick={reset}>Noch mal</ResetButton>\n        </Message>\n      )}\n      <h1>Hangman</h1>\n      <div style={{ height: 'min-content' }}>\n        <Hangman visibleIndex={trys} dead={gameOver} />\n      </div>\n      <KeyboardLine>{KeyBoardLine(1)}</KeyboardLine>\n      <KeyboardLine>{KeyBoardLine(2)}</KeyboardLine>\n      <KeyboardLine>{KeyBoardLine(3)}</KeyboardLine>\n\n      <WordLine winWord={word ? word : 'Kompromiss'} finalWord={finalWord} />\n      <p>Du hast noch {trys} Versuche</p>\n    </div>\n  );\n}\n"],"mappings":"8ZAAA,MAAO,cAAP,CACA,MAAOA,OAAP,KAAmB,mBAAnB,CACA,OAASC,WAAT,CAAsBC,SAAtB,CAAiCC,QAAjC,KAAiD,OAAjD,CACA,MAAOC,QAAP,KAAoB,sBAApB,CACA,MAAOC,IAAP,KAAgB,kBAAhB,CACA,MAAOC,SAAP,KAAqB,uBAArB,CACA,MAAOC,aAAP,KAAyB,wBAAzB,CACA,MAAOC,uBAAP,KAAmC,gCAAnC,CACA,MAAOC,cAAP,KAA0B,yBAA1B,C,wFAEA,GAAMC,aAAY,CAAGV,MAAM,CAACW,GAAV,iEAAlB,CAEA,GAAMC,QAAO,CAAGZ,MAAM,CAACW,GAAV,mSAAb,CAaA,GAAME,YAAW,CAAGb,MAAM,CAACc,MAAV,0MAAjB,CASA,cAAe,SAASC,IAAT,EAAe,CAC5B,cAA0BZ,QAAQ,CAAS,EAAT,CAAlC,wCAAOa,KAAP,eAAcC,QAAd,eACA,eAAwBd,QAAQ,CAAS,EAAT,CAAhC,yCAAOe,IAAP,eAAaC,OAAb,eACA,eAAkChB,QAAQ,CAAW,EAAX,CAA1C,yCAAOiB,SAAP,eAAkBC,YAAlB,eACA,eAA8BlB,QAAQ,CAAS,EAAT,CAAtC,yCAAOmB,OAAP,eAAgBC,UAAhB,eACA,eAAgCpB,QAAQ,CAAU,KAAV,CAAxC,0CAAOqB,QAAP,gBAAiBC,WAAjB,gBACA,gBAAwBtB,QAAQ,EAAhC,2CAAOuB,IAAP,gBAAaC,OAAb,gBACA,gBAAsCxB,QAAQ,CAAW,EAAX,CAA9C,2CAAOyB,WAAP,gBAAoBC,cAApB,gBAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,GAAMC,QAAO,CAAGtB,aAAa,GAAGuB,WAAhB,EAAhB,CACAL,OAAO,CAACI,OAAD,CAAP,CAEA,GAAME,SAAQ,CAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBT,IAAlB,CAAjB,CACAG,cAAc,CAACI,QAAD,CAAd,CACD,CAND,CAQA/B,SAAS,CAAC,UAAM,CACd4B,KAAK,GACN,CAFQ,CAEN,CAACJ,IAAD,CAFM,CAAT,CAIA,GAAMU,eAAc,CAAG,QAAjBA,eAAiB,CAACC,GAAD,CAAiB,CACtCC,OAAO,CAACC,GAAR,CAAYb,IAAZ,EACA,GAAI,EAACA,IAAD,SAACA,IAAD,WAACA,IAAI,CAAEc,QAAN,CAAeH,GAAf,CAAD,CAAJ,CAA0B,CACxBlB,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACD,CACDD,QAAQ,CAACoB,GAAD,CAAR,CACD,CAND,CAQA,GAAMI,cAAa,CAAGxC,WAAW,CAC/B,SAACyC,KAAD,CAAW,CACT,GAAML,IAAG,CAAGK,KAAK,CAACL,GAAlB,CAEA,GAAIjB,SAAS,CAACoB,QAAV,CAAmBH,GAAG,CAACL,WAAJ,EAAnB,CAAJ,CAA2C,CACzC,OACD,CACD,GAAI,EAACN,IAAD,SAACA,IAAD,WAACA,IAAI,CAAEc,QAAN,CAAeH,GAAG,CAACL,WAAJ,EAAf,CAAD,CAAJ,CAAwC,CACtCb,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACD,CACD,GACGmB,GAAG,CAACM,KAAJ,CAAU,UAAV,GAAyBD,KAAK,CAACE,IAAN,CAAWJ,QAAX,CAAoB,KAApB,CAA1B,EACAhC,sBAAsB,CAAC6B,GAAD,CAFxB,CAGE,CACApB,QAAQ,CAACoB,GAAG,CAACL,WAAJ,EAAD,CAAR,CACD,CALD,IAKO,CACLf,QAAQ,CAAC,EAAD,CAAR,CACD,CACF,CAlB8B,CAmB/B,CAACC,IAAD,CAAOE,SAAP,CAAkBM,IAAlB,CAnB+B,CAAjC,CAsBA,GAAMmB,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB1B,OAAO,CAAC,EAAD,CAAP,CACAW,KAAK,GACLP,UAAU,CAAC,EAAD,CAAV,CACAF,YAAY,CAAC,EAAD,CAAZ,CACAJ,QAAQ,CAAC,EAAD,CAAR,CACAQ,WAAW,CAAC,KAAD,CAAX,CACD,CAPD,CASAvB,SAAS,CAAC,UAAM,CACd,GAAI0B,WAAW,CAACkB,MAAZ,GAAuB,CAA3B,CAA8B,CAC5B,OACD,CACD,GAAIlB,WAAW,CAACmB,KAAZ,CAAkB,SAACC,CAAD,QAAO5B,UAAS,CAACoB,QAAV,CAAmBQ,CAAnB,CAAP,EAAlB,CAAJ,CAAqD,CACnDzB,UAAU,CAAC,mBAAD,CAAV,CACD,CACF,CAPQ,CAON,CAACH,SAAD,CAAYQ,WAAZ,CAPM,CAAT,CASA1B,SAAS,CAAC,UAAM,CACd,GAAIgB,IAAI,GAAK,CAAb,CAAgB,CACdO,WAAW,CAAC,IAAD,CAAX,CACAF,UAAU,CAAC,kBAAD,CAAV,CACD,CACF,CALQ,CAKN,CAACL,IAAD,CALM,CAAT,CAOAhB,SAAS,CAAC,UAAM,CACdmB,YAAY,CAAC,SAAC4B,MAAD,SAAajC,KAAb,4BAAuBiC,MAAvB,IAAD,CAAZ,CACD,CAFQ,CAEN,CAACjC,KAAD,CAFM,CAAT,CAIAd,SAAS,CAAC,UAAM,CACd,GAAIgD,MAAJ,CAAY,CACVA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCV,aAAnC,EACD,CAED,MAAO,WAAM,CACXS,MAAM,CAACE,mBAAP,CAA2B,SAA3B,CAAsCX,aAAtC,EACD,CAFD,CAGD,CARQ,CAQN,CAACA,aAAD,CARM,CAAT,CAUA,GAAMY,aAAY,CAAG,QAAfA,aAAe,CAACC,MAAD,QACnB/C,aAAY,CAACgD,GAAb,CACE,SAACvC,KAAD,QACEsC,OAAM,GAAKtC,KAAK,CAACwC,IAAjB,eACE,KAAC,GAAD,EACE,QAAQ,CAAEpC,SAAS,CAACoB,QAAV,CAAmBxB,KAAK,CAACA,KAAzB,CADZ,CAEE,OAAO,CAAE,yBAAMoB,eAAc,CAACpB,KAAK,CAACA,KAAP,CAApB,EAFX,CAGE,KAAK,CAAEA,KAAK,CAACA,KAHf,EAFJ,EADF,CADmB,EAArB,CAYA,mBACE,aAAK,SAAS,CAAC,KAAf,WACGM,OAAO,eACN,MAAC,OAAD,YACGA,OADH,cAEE,KAAC,WAAD,EAAa,OAAO,CAAEuB,KAAtB,sBAFF,GAFJ,cAOE,+BAPF,cAQE,YAAK,KAAK,CAAE,CAAEY,MAAM,CAAE,aAAV,CAAZ,uBACE,KAAC,OAAD,EAAS,YAAY,CAAEvC,IAAvB,CAA6B,IAAI,CAAEM,QAAnC,EADF,EARF,cAWE,KAAC,YAAD,WAAe6B,YAAY,CAAC,CAAD,CAA3B,EAXF,cAYE,KAAC,YAAD,WAAeA,YAAY,CAAC,CAAD,CAA3B,EAZF,cAaE,KAAC,YAAD,WAAeA,YAAY,CAAC,CAAD,CAA3B,EAbF,cAeE,KAAC,QAAD,EAAU,OAAO,CAAE3B,IAAI,CAAGA,IAAH,CAAU,YAAjC,CAA+C,SAAS,CAAEN,SAA1D,EAfF,cAgBE,qCAAiBF,IAAjB,eAhBF,GADF,CAoBD"},"metadata":{},"sourceType":"module"}