{"ast":null,"code":"import _toConsumableArray from \"/home/mwiemers/dev/Hangman/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/home/mwiemers/dev/Hangman/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _taggedTemplateLiteral from \"/home/mwiemers/dev/Hangman/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\n\nvar _jsxFileName = \"/home/mwiemers/dev/Hangman/src/App.tsx\",\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _s = $RefreshSig$();\n\nimport './styles.css';\nimport styled from 'styled-components';\nimport { useCallback, useEffect, useState } from 'react';\nimport Hangman from '../components/Hangman';\nimport Key from '../components/Key';\nimport WordLine from '../components/WordLine';\nimport KeyBoardKeys from '../helpers/keyboardkeys';\nimport ValidateSpecialLetters from '../helpers/validespecialletters';\nimport getRandomWord from '../helpers/getRandomWord';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar KeyboardLine = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\"])));\n_c = KeyboardLine;\nvar Message = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  display: flex;\\n  flex-direction: column;\\n  background-color: gray;\\n  height: 100vh;\\n  width: 90%;\\n  font-size: 40px;\\n  font-weight: bold;\\n  align-items: center;\\n  justify-content: center;\\n\"])));\n_c2 = Message;\nvar ResetButton = styled.button(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  border: none;\\n  background-color: black;\\n  color: white;\\n  font-size: 1.5rem;\\n  border-radius: 10px;\\n  padding: 0.5rem 1rem;\\n\"])));\n_c3 = ResetButton;\nexport default function App() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(10),\n      _useState4 = _slicedToArray(_useState3, 2),\n      trys = _useState4[0],\n      setTrys = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      finalWord = _useState6[0],\n      setFinalWord = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      gameOver = _useState10[0],\n      setGameOver = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      word = _useState12[0],\n      setWord = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      wordAsArray = _useState14[0],\n      setWordAsArray = _useState14[1];\n\n  var words = function words() {\n    var newWord = getRandomWord().toUpperCase();\n    setWord(newWord);\n    var newArray = Object.assign([], word);\n    setWordAsArray(newArray);\n  };\n\n  useEffect(function () {\n    words();\n  }, [word]);\n\n  var handleKeyClick = function handleKeyClick(key) {\n    console.log(word);\n\n    if (!(word !== null && word !== void 0 && word.includes(key))) {\n      setTrys(trys - 1);\n    }\n\n    setValue(key);\n  };\n\n  var handleKeyDown = useCallback(function (event) {\n    var key = event.key;\n\n    if (finalWord.includes(key.toUpperCase())) {\n      return;\n    }\n\n    if (!(word !== null && word !== void 0 && word.includes(key.toUpperCase()))) {\n      setTrys(trys - 1);\n    }\n\n    if (key.match('[A-Za-z]') && event.code.includes('Key') || ValidateSpecialLetters(key)) {\n      setValue(key.toUpperCase());\n    } else {\n      setValue('');\n    }\n  }, [trys, finalWord, word]);\n\n  var reset = function reset() {\n    setTrys(10);\n    words();\n    setMessage('');\n    setFinalWord([]);\n    setValue('');\n    setGameOver(false);\n  };\n\n  useEffect(function () {\n    if (wordAsArray.length === 0) {\n      return;\n    }\n\n    if (wordAsArray.every(function (l) {\n      return finalWord.includes(l);\n    })) {\n      setMessage('Du hast gewonnen!');\n    }\n  }, [finalWord, wordAsArray]);\n  useEffect(function () {\n    if (trys === 0) {\n      setGameOver(true);\n      setMessage('Du hast verloren');\n    }\n  }, [trys]);\n  useEffect(function () {\n    setFinalWord(function (oldArr) {\n      return [value].concat(_toConsumableArray(oldArr));\n    });\n  }, [value]);\n  useEffect(function () {\n    if (window) {\n      window.addEventListener('keydown', handleKeyDown);\n    }\n\n    return function () {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  var KeyBoardLine = function KeyBoardLine(number) {\n    return KeyBoardKeys.map(function (value) {\n      return number === value.line && /*#__PURE__*/_jsxDEV(Key, {\n        disabled: finalWord.includes(value.value),\n        onClick: function onClick() {\n          return handleKeyClick(value.value);\n        },\n        value: value.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, _this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [message && /*#__PURE__*/_jsxDEV(Message, {\n      children: [message, /*#__PURE__*/_jsxDEV(ResetButton, {\n        onClick: reset,\n        children: \"Noch mal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Hangman\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 'min-content'\n      },\n      children: /*#__PURE__*/_jsxDEV(Hangman, {\n        visibleIndex: trys,\n        dead: gameOver\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(KeyboardLine, {\n      children: KeyBoardLine(1)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(KeyboardLine, {\n      children: KeyBoardLine(2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(KeyboardLine, {\n      children: KeyBoardLine(3)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WordLine, {\n      winWord: word ? word : 'Kompromiss',\n      finalWord: finalWord\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Du hast noch \", trys, \" Versuche\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"MiFbu/n7Se2ZWmTJICILrtewQCE=\");\n\n_c4 = App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"KeyboardLine\");\n$RefreshReg$(_c2, \"Message\");\n$RefreshReg$(_c3, \"ResetButton\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["styled","useCallback","useEffect","useState","Hangman","Key","WordLine","KeyBoardKeys","ValidateSpecialLetters","getRandomWord","KeyboardLine","div","Message","ResetButton","button","App","value","setValue","trys","setTrys","finalWord","setFinalWord","message","setMessage","gameOver","setGameOver","word","setWord","wordAsArray","setWordAsArray","words","newWord","toUpperCase","newArray","Object","assign","handleKeyClick","key","console","log","includes","handleKeyDown","event","match","code","reset","length","every","l","oldArr","window","addEventListener","removeEventListener","KeyBoardLine","number","map","line","height"],"sources":["/home/mwiemers/dev/Hangman/src/App.tsx"],"sourcesContent":["import './styles.css';\nimport styled from 'styled-components';\nimport { useCallback, useEffect, useState } from 'react';\nimport Hangman from '../components/Hangman';\nimport Key from '../components/Key';\nimport WordLine from '../components/WordLine';\nimport KeyBoardKeys from '../helpers/keyboardkeys';\nimport ValidateSpecialLetters from '../helpers/validespecialletters';\nimport getRandomWord from '../helpers/getRandomWord';\n\nconst KeyboardLine = styled.div``;\n\nconst Message = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  background-color: gray;\n  height: 100vh;\n  width: 90%;\n  font-size: 40px;\n  font-weight: bold;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ResetButton = styled.button`\n  border: none;\n  background-color: black;\n  color: white;\n  font-size: 1.5rem;\n  border-radius: 10px;\n  padding: 0.5rem 1rem;\n`;\n\nexport default function App() {\n  const [value, setValue] = useState<string>('');\n  const [trys, setTrys] = useState<number>(10);\n  const [finalWord, setFinalWord] = useState<string[]>([]);\n  const [message, setMessage] = useState<string>('');\n  const [gameOver, setGameOver] = useState<boolean>(false);\n  const [word, setWord] = useState<string>();\n  const [wordAsArray, setWordAsArray] = useState<string[]>([]);\n\n  const words = () => {\n    const newWord = getRandomWord().toUpperCase();\n    setWord(newWord);\n\n    const newArray = Object.assign([], word);\n    setWordAsArray(newArray);\n  };\n\n  useEffect(() => {\n    words();\n  }, [word]);\n\n  const handleKeyClick = (key: string) => {\n    console.log(word);\n    if (!word?.includes(key)) {\n      setTrys(trys - 1);\n    }\n    setValue(key);\n  };\n\n  const handleKeyDown = useCallback(\n    (event) => {\n      const key = event.key;\n\n      if (finalWord.includes(key.toUpperCase())) {\n        return;\n      }\n      if (!word?.includes(key.toUpperCase())) {\n        setTrys(trys - 1);\n      }\n      if (\n        (key.match('[A-Za-z]') && event.code.includes('Key')) ||\n        ValidateSpecialLetters(key)\n      ) {\n        setValue(key.toUpperCase());\n      } else {\n        setValue('');\n      }\n    },\n    [trys, finalWord, word]\n  );\n\n  const reset = () => {\n    setTrys(10);\n    words();\n    setMessage('');\n    setFinalWord([]);\n    setValue('');\n    setGameOver(false);\n  };\n\n  useEffect(() => {\n    if (wordAsArray.length === 0) {\n      return;\n    }\n    if (wordAsArray.every((l) => finalWord.includes(l))) {\n      setMessage('Du hast gewonnen!');\n    }\n  }, [finalWord, wordAsArray]);\n\n  useEffect(() => {\n    if (trys === 0) {\n      setGameOver(true);\n      setMessage('Du hast verloren');\n    }\n  }, [trys]);\n\n  useEffect(() => {\n    setFinalWord((oldArr) => [value, ...oldArr]);\n  }, [value]);\n\n  useEffect(() => {\n    if (window) {\n      window.addEventListener('keydown', handleKeyDown);\n    }\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n\n  const KeyBoardLine = (number: number) =>\n    KeyBoardKeys.map(\n      (value) =>\n        number === value.line && (\n          <Key\n            disabled={finalWord.includes(value.value)}\n            onClick={() => handleKeyClick(value.value)}\n            value={value.value}\n          />\n        )\n    );\n\n  return (\n    <div className=\"App\">\n      {message && (\n        <Message>\n          {message}\n          <ResetButton onClick={reset}>Noch mal</ResetButton>\n        </Message>\n      )}\n      <h1>Hangman</h1>\n      <div style={{ height: 'min-content' }}>\n        <Hangman visibleIndex={trys} dead={gameOver} />\n      </div>\n      <KeyboardLine>{KeyBoardLine(1)}</KeyboardLine>\n      <KeyboardLine>{KeyBoardLine(2)}</KeyboardLine>\n      <KeyboardLine>{KeyBoardLine(3)}</KeyboardLine>\n\n      <WordLine winWord={word ? word : 'Kompromiss'} finalWord={finalWord} />\n      <p>Du hast noch {trys} Versuche</p>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}